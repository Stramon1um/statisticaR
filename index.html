<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>StatisticaR</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fas fa-home"></span>
     
  </a>
</li>
<li>
  <a href="page_2.html">PCA</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="mailto:mauromaver@gmail.com">
    <span class="fas fa-envelope"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/Stramon1um">
    <span class="fab fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/Stramon1um">
    <span class="fab fa-twitter"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">StatisticaR</h1>

</div>


<div id="pillole-di-codice-scripts" class="section level2">
<h2>Pillole di codice &amp; scripts</h2>
<p>Ultimo aggiornamento: Gio 16 Set - 20:25</p>
<hr />
<div id="caricare-un-.csv" class="section level3">
<h3>Caricare un .csv</h3>
<p>A seconda del formato numerico del .csv, si hanno due opzioni:</p>
<ol style="list-style-type: decimal">
<li>Formato numerico <strong>italiano</strong>
<ul>
<li>“;” come separatore di campo (colonne) e “,” come separatore decimale</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="st">&quot;Sepal.Length&quot;</span>;<span class="st">&quot;Sepal.Width&quot;</span>;<span class="st">&quot;Petal.Length&quot;</span>;<span class="st">&quot;Petal.Width&quot;</span>;<span class="st">&quot;Species&quot;</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="dv">5</span>,<span class="dv">1</span>;<span class="dv">3</span>,<span class="dv">5</span>;<span class="dv">1</span>,<span class="dv">4</span>;<span class="dv">0</span>,<span class="dv">2</span>;<span class="st">&quot;setosa&quot;</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="dv">4</span>,<span class="dv">9</span>;<span class="dv">3</span>;<span class="dv">1</span>,<span class="dv">4</span>;<span class="dv">0</span>,<span class="dv">2</span>;<span class="st">&quot;setosa&quot;</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="dv">4</span>,<span class="dv">7</span>;<span class="dv">3</span>,<span class="dv">2</span>;<span class="dv">1</span>,<span class="dv">3</span>;<span class="dv">0</span>,<span class="dv">2</span>;<span class="st">&quot;setosa&quot;</span></a></code></pre></div></li>
<li>Formato numerico <strong>inglese</strong>
<ul>
<li>“,” come separatore di campo e “.” come separatore decimale</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="st">&quot;Sepal.Length&quot;</span>,<span class="st">&quot;Sepal.Width&quot;</span>,<span class="st">&quot;Petal.Length&quot;</span>,<span class="st">&quot;Petal.Width&quot;</span>,<span class="st">&quot;Species&quot;</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="fl">5.1</span>,<span class="fl">3.5</span>,<span class="fl">1.4</span>,<span class="fl">0.2</span>,<span class="st">&quot;setosa&quot;</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="fl">4.9</span>,<span class="dv">3</span>,<span class="fl">1.4</span>,<span class="fl">0.2</span>,<span class="st">&quot;setosa&quot;</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="fl">4.7</span>,<span class="fl">3.2</span>,<span class="fl">1.3</span>,<span class="fl">0.2</span>,<span class="st">&quot;setosa&quot;</span></a></code></pre></div></li>
</ol>
<p>Nel primo caso possiamo usare il comando <code>read.csv2</code>, il quale usa di default il formato numerico italiano, nel secondo caso possiamo usare il comando <code>read.csv</code>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">dat_it &lt;-<span class="st"> </span><span class="kw">read.csv2</span>(<span class="st">&quot;iris_it.csv&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"></a>
<a class="sourceLine" id="cb3-3" data-line-number="3">dat_en &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;iris_en.csv&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>(<strong>N.B.</strong> I due .csv sono stati creati con le due diverse formattazioni sopra citate, in modo tale da avere in R il medesimo dataset ma utilizzando due comandi differenti)</p>
<p>Successivamente possiamo dare una breve occhiata al nostro dataset appena caricato da .csv. Il comando <code>head()</code> e <code>tail()</code> permettono, senza opzioni aggiuntive (come mostrato), di mostrare velocemente in R console rispettivamente la parte iniziale e finale di un dataset.</p>
<p>Parte iniziale di <code>dat_it</code>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">head</span>(dat_it) <span class="co"># per la parte iniziale</span></a></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa</code></pre>
<p>Parte finale di <code>dat_it</code>:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">tail</span>(dat_it) <span class="co"># per la parte finale</span></a></code></pre></div>
<pre><code>##     Sepal.Length Sepal.Width Petal.Length Petal.Width   Species
## 145          6.7         3.3          5.7         2.5 virginica
## 146          6.7         3.0          5.2         2.3 virginica
## 147          6.3         2.5          5.0         1.9 virginica
## 148          6.5         3.0          5.2         2.0 virginica
## 149          6.2         3.4          5.4         2.3 virginica
## 150          5.9         3.0          5.1         1.8 virginica</code></pre>
<p>Nel caso invece volessimo mostrare in console l’intero contenuto del dataset, basterà richiamare il nome del dataset. In questo caso <code>dat_it</code> e correre in R. Il risultato sarà una lista di tutte le 150 righe, comprese di valori e colonne, che non sarà mostrato qui per motivi di spazio.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">dat_it</a></code></pre></div>
<hr />
</div>
<div id="ispezionare-un-dataframe" class="section level3">
<h3>Ispezionare un dataframe</h3>
<p>Una volta caricato il nostro dataframe, possiamo passare ad ispezionare la tipologia di dati in esso contenuti. Uno dei metodi più veloci è tramite il comando <code>str()</code>:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">str</span>(dat_it)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    150 obs. of  5 variables:
##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<p>Come mostrato dall’output del comando, il nostro dataframe è composto da 150 righe e 5 colonne, delle quali quattro contenenti dati di tipo numerico e una di tipo fattoriale (spesso riferite come variabili categoriche).</p>
<p>Una valida alternativa a <code>str()</code> è il comando <code>sapply()</code>, andando ad aggiungere l’opzione <strong>class</strong>:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">sapply</span>(dat_it, class)</a></code></pre></div>
<pre><code>## Sepal.Length  Sepal.Width Petal.Length  Petal.Width      Species 
##    &quot;numeric&quot;    &quot;numeric&quot;    &quot;numeric&quot;    &quot;numeric&quot;     &quot;factor&quot;</code></pre>
<hr />
</div>
<div id="modificare-nomi-colonne" class="section level3">
<h3>Modificare nomi colonne</h3>
<p>Controllate tutte le varie informazioni ottenute dal nostro dataframe, potremo ora procedere ad una veloce modifca dei nomi delle colonne nel caso preferissimo avere nomi più semplici o più specifici senza tuttavia modificare il .csv originale caricato.</p>
<p>Tra i diversi metodi, di base R ci fornisce il comando <code>colnames</code>, il quale può essere utilizzando in 3 modi:</p>
<ol style="list-style-type: decimal">
<li><p>inserendo un vettore contente quanti nomi quante le colonne presenti nel nostro dataframe. Consigliato ad esempio quando vorremmo modificare più di un colonna in maniera rapida. (<strong>N.B.</strong> nel caso si inserissero meno nomi rispetto al numero di colonne totali, le colonne rimanenti veranno etichettate con NA):</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">colnames</span>(dat_it) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Sepal_Length&quot;</span>,<span class="st">&quot;Sepal_Width&quot;</span>,<span class="st">&quot;Petal_Length&quot;</span>,<span class="st">&quot;Petal_Width&quot;</span>,<span class="st">&quot;Species_Iris&quot;</span>)</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="kw">head</span>(dat_it)</a></code></pre></div>
<pre><code>##   Sepal_Length Sepal_Width Petal_Length Petal_Width Species_Iris
## 1          5.1         3.5          1.4         0.2       setosa
## 2          4.9         3.0          1.4         0.2       setosa
## 3          4.7         3.2          1.3         0.2       setosa
## 4          4.6         3.1          1.5         0.2       setosa
## 5          5.0         3.6          1.4         0.2       setosa
## 6          5.4         3.9          1.7         0.4       setosa</code></pre></li>
<li><p>specificando la colonna tramite il suo numero corrispondente, dove <code>1</code> sarà per la prima colonna e così via; in questo modo possiamo selettivamente modificare una colonna lasciando intatto tutto il resto. In questo caso però è chiaro che occorrerà conoscere la posizione della colonna all’interno del nostro dataframe:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw">colnames</span>(dat_it)[<span class="dv">5</span>] &lt;-<span class="st"> &quot;Species&quot;</span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2"></a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="kw">head</span>(dat_it)</a></code></pre></div>
<pre><code>##   Sepal_Length Sepal_Width Petal_Length Petal_Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa</code></pre></li>
<li><p>specificando la colonna da modificare tramite il suo attuale nome. Questo metodo ad esempio consente rapidamente di modificare una specifica colonna situata in un dataframe ricco di colonne, senza saperne la posizione:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw">colnames</span>(dat_it)[<span class="kw">which</span>(<span class="kw">colnames</span>(dat_it) <span class="op">==</span><span class="st"> &quot;Species&quot;</span>)] &lt;-<span class="st"> &quot;Species_Iris_2&quot;</span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2"></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="kw">head</span>(dat_it)</a></code></pre></div>
<pre><code>##   Sepal_Length Sepal_Width Petal_Length Petal_Width Species_Iris_2
## 1          5.1         3.5          1.4         0.2         setosa
## 2          4.9         3.0          1.4         0.2         setosa
## 3          4.7         3.2          1.3         0.2         setosa
## 4          4.6         3.1          1.5         0.2         setosa
## 5          5.0         3.6          1.4         0.2         setosa
## 6          5.4         3.9          1.7         0.4         setosa</code></pre></li>
</ol>
<hr />
</div>
<div id="escludere-colonne-eo-righe" class="section level3">
<h3>Escludere colonne e/o righe</h3>
<p>Nel caso avessimo bisogno solo di mantenere solo determinate colonne e/o righe di un ben più ampio dataframe, questo è possibile utilizzando dei semplici comandi. Dato un dataframe, in esso sarà possibile specificare quali colonne, righe o colonne+righe mantenere; tuttavia è consigliato creare un nuovo dataframe così da non modificare quello di partenza.</p>
<p>Ad esempio, diciamo che vogliamo solo le colonne di <code>iris</code> relative a <code>Sepal</code>, esludendo quelle per <code>Petal</code>:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">dat_it_sepal &lt;-<span class="st"> </span>iris[,<span class="kw">c</span>(<span class="op">-</span><span class="dv">3</span>,<span class="op">-</span><span class="dv">4</span>)]</a>
<a class="sourceLine" id="cb19-2" data-line-number="2"></a>
<a class="sourceLine" id="cb19-3" data-line-number="3"><span class="kw">head</span>(dat_it_sepal)</a></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Species
## 1          5.1         3.5  setosa
## 2          4.9         3.0  setosa
## 3          4.7         3.2  setosa
## 4          4.6         3.1  setosa
## 5          5.0         3.6  setosa
## 6          5.4         3.9  setosa</code></pre>
<p>L’aggiunta delle parentesi quadre dopo il nome del dataframe, <code>iris[X,Y]</code>, ci permette di specificare le righe in <code>X</code> e le colonne in <code>Y</code>. Nell’esempio sopra, aggiunendo un segno meno andremo ad esludere le colonne specificate.</p>
<p>Allo stesso modo è possibile inserire degli intervalli, come in questo esempio:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">dat_it_solo_sepal &lt;-<span class="st"> </span>iris[,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</a>
<a class="sourceLine" id="cb21-2" data-line-number="2"></a>
<a class="sourceLine" id="cb21-3" data-line-number="3"><span class="kw">head</span>(dat_it_solo_sepal)</a></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width
## 1          5.1         3.5
## 2          4.9         3.0
## 3          4.7         3.2
## 4          4.6         3.1
## 5          5.0         3.6
## 6          5.4         3.9</code></pre>
<p>Oppure utilizzare gli intervalli nel caso si dovesse specificare un certo numero di righe:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">dat_it_tre_righe_solo_sepal &lt;-<span class="st"> </span>iris[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</a>
<a class="sourceLine" id="cb23-2" data-line-number="2"></a>
<a class="sourceLine" id="cb23-3" data-line-number="3"><span class="kw">head</span>(dat_it_tre_righe_solo_sepal)</a></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width
## 1          5.1         3.5
## 2          4.9         3.0
## 3          4.7         3.2</code></pre>
<hr />
</div>
<div id="creare-un-subset" class="section level3">
<h3>Creare un Subset</h3>
<p>Il principio dietro alla creazione di un <code>Subset</code> di un dataframe non differisce molto da quello sopra riportato per l’esclusione selettiva di righe o colonne. Tuttavia, in termini di potenzialità e versatilità, <em>subsettare</em> porta con sè vantaggi non indifferenti, specie se occore applicare condizioni molto selettive nell’esclusione di dati.</p>
<p>Ritornando a <code>ìris</code>, mettiamo il caso che vogliamo solo considerare i dati relativi alla specie <code>setosa</code>:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">iris_setosa &lt;-<span class="st"> </span><span class="kw">subset</span>(iris, Species <span class="op">==</span><span class="st"> &quot;setosa&quot;</span>)</a>
<a class="sourceLine" id="cb25-2" data-line-number="2"></a>
<a class="sourceLine" id="cb25-3" data-line-number="3"><span class="kw">head</span>(iris_setosa)</a></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa</code></pre>
<p>oppure, considerare solo se <code>Sepal.Length</code> è maggiore di un certo numero:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1">iris_sepal_maggiore &lt;-<span class="st"> </span><span class="kw">subset</span>(iris, Sepal.Length <span class="op">&gt;</span><span class="st"> </span><span class="dv">6</span>)</a>
<a class="sourceLine" id="cb27-2" data-line-number="2"></a>
<a class="sourceLine" id="cb27-3" data-line-number="3"><span class="kw">head</span>(iris_sepal_maggiore)</a></code></pre></div>
<pre><code>##    Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
## 51          7.0         3.2          4.7         1.4 versicolor
## 52          6.4         3.2          4.5         1.5 versicolor
## 53          6.9         3.1          4.9         1.5 versicolor
## 55          6.5         2.8          4.6         1.5 versicolor
## 57          6.3         3.3          4.7         1.6 versicolor
## 59          6.6         2.9          4.6         1.3 versicolor</code></pre>
<p>o perfino una combinazione di determinate condizioni utilizzando operatori logici:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1">iris_subset_versicolor_AND &lt;-<span class="st"> </span><span class="kw">subset</span>(iris, Sepal.Length <span class="op">&gt;</span><span class="st"> </span><span class="dv">6</span> <span class="op">&amp;</span><span class="st"> </span>Species <span class="op">==</span><span class="st"> &quot;versicolor&quot;</span>)</a>
<a class="sourceLine" id="cb29-2" data-line-number="2"></a>
<a class="sourceLine" id="cb29-3" data-line-number="3"><span class="kw">head</span>(iris_subset_versicolor_AND)</a></code></pre></div>
<pre><code>##    Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
## 51          7.0         3.2          4.7         1.4 versicolor
## 52          6.4         3.2          4.5         1.5 versicolor
## 53          6.9         3.1          4.9         1.5 versicolor
## 55          6.5         2.8          4.6         1.5 versicolor
## 57          6.3         3.3          4.7         1.6 versicolor
## 59          6.6         2.9          4.6         1.3 versicolor</code></pre>
<p>dove <code>&amp;</code> indica l’operatore logico AND, il quale ammette solo che entrambe le condizioni siano contemporaneamente vere. L’operatore OR è invece richiamato con il simbolo <code>|</code>, il quale ammette che almeno una delle condizione sia vera:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1">iris_subset_OR &lt;-<span class="st"> </span><span class="kw">subset</span>(iris, Sepal.Length <span class="op">&gt;</span><span class="st"> </span><span class="dv">7</span> <span class="op">|</span><span class="st"> </span>Sepal.Width <span class="op">&gt;</span><span class="st"> </span><span class="dv">4</span>)</a>
<a class="sourceLine" id="cb31-2" data-line-number="2"></a>
<a class="sourceLine" id="cb31-3" data-line-number="3"><span class="kw">head</span>(iris_subset_OR)</a></code></pre></div>
<pre><code>##     Sepal.Length Sepal.Width Petal.Length Petal.Width   Species
## 16           5.7         4.4          1.5         0.4    setosa
## 33           5.2         4.1          1.5         0.1    setosa
## 34           5.5         4.2          1.4         0.2    setosa
## 103          7.1         3.0          5.9         2.1 virginica
## 106          7.6         3.0          6.6         2.1 virginica
## 108          7.3         2.9          6.3         1.8 virginica</code></pre>
<p>O escludendo rapidamente applicando l’operatore <code>!=</code> alias <em>diverso da</em>:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1">iris_subset_diverso_setosa &lt;-<span class="st"> </span><span class="kw">subset</span>(iris, Species <span class="op">!=</span><span class="st"> &quot;setosa&quot;</span> <span class="op">&amp;</span><span class="st"> </span>Petal.Length <span class="op">&gt;</span><span class="st"> </span><span class="fl">6.4</span>)</a>
<a class="sourceLine" id="cb33-2" data-line-number="2"></a>
<a class="sourceLine" id="cb33-3" data-line-number="3"><span class="kw">head</span>(iris_subset_diverso_setosa)</a></code></pre></div>
<pre><code>##     Sepal.Length Sepal.Width Petal.Length Petal.Width   Species
## 106          7.6         3.0          6.6         2.1 virginica
## 118          7.7         3.8          6.7         2.2 virginica
## 119          7.7         2.6          6.9         2.3 virginica
## 123          7.7         2.8          6.7         2.0 virginica</code></pre>
<p><strong>N.B.</strong> Anche nel caso di subset, è consigliabile creare un nuovo dataframe mantenendo intatto l’originale.</p>
<hr />
</div>
<div id="unire-dataframe" class="section level3">
<h3>Unire dataframe</h3>
<p>Può capitare di avere la necessità di unire due o più dataframe in un unico grande dataframe, e svolgere su di esso qualsivoglia analisi o elaborazione. Questa <em>fusione</em> può essere eseguita sia a livello di colonne con <code>cbind</code> sia a livello di righe con <code>rbind</code>. Unico prerequisito è quello di avere in tutti i dataframe da unire lo stesso numero di righe e colonne, rispettivamente. Ai fini della dimostrazione, creiamo due dataframe di dimensione 5x5 (righexcolonne) partendo da <code>iris</code>:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1">iris_<span class="dv">1</span> &lt;-<span class="st"> </span>iris[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,]</a>
<a class="sourceLine" id="cb35-2" data-line-number="2"></a>
<a class="sourceLine" id="cb35-3" data-line-number="3"><span class="kw">head</span>(iris_<span class="dv">1</span>)</a></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1">iris_<span class="dv">2</span> &lt;-<span class="st"> </span>iris[<span class="dv">6</span><span class="op">:</span><span class="dv">10</span>,]</a>
<a class="sourceLine" id="cb37-2" data-line-number="2"></a>
<a class="sourceLine" id="cb37-3" data-line-number="3"><span class="kw">head</span>(iris_<span class="dv">2</span>)</a></code></pre></div>
<pre><code>##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 6           5.4         3.9          1.7         0.4  setosa
## 7           4.6         3.4          1.4         0.3  setosa
## 8           5.0         3.4          1.5         0.2  setosa
## 9           4.4         2.9          1.4         0.2  setosa
## 10          4.9         3.1          1.5         0.1  setosa</code></pre>
<p>Ora procederemo a alla loro unione con <code>cbind</code>, affiancandoli a livello delle colonne e creando così un nuovo dataframe da 5x10:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1">iris_cbind &lt;-<span class="st"> </span><span class="kw">cbind</span>(iris_<span class="dv">1</span>, iris_<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb39-2" data-line-number="2"></a>
<a class="sourceLine" id="cb39-3" data-line-number="3"><span class="kw">head</span>(iris_cbind)</a></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species Sepal.Length
## 1          5.1         3.5          1.4         0.2  setosa          5.4
## 2          4.9         3.0          1.4         0.2  setosa          4.6
## 3          4.7         3.2          1.3         0.2  setosa          5.0
## 4          4.6         3.1          1.5         0.2  setosa          4.4
## 5          5.0         3.6          1.4         0.2  setosa          4.9
##   Sepal.Width Petal.Length Petal.Width Species
## 1         3.9          1.7         0.4  setosa
## 2         3.4          1.4         0.3  setosa
## 3         3.4          1.5         0.2  setosa
## 4         2.9          1.4         0.2  setosa
## 5         3.1          1.5         0.1  setosa</code></pre>
<p>In alternativa, possiamo anche unirli a livello di righe con <code>rbind</code>, ottenendo un nuovo dataframe da 10x5:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" data-line-number="1">iris_rbind &lt;-<span class="st"> </span><span class="kw">rbind</span>(iris_<span class="dv">1</span>, iris_<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb41-2" data-line-number="2"></a>
<a class="sourceLine" id="cb41-3" data-line-number="3"><span class="kw">head</span>(iris_rbind, <span class="dv">15</span>) <span class="co"># il parametro 15 aggiuntivo è per dimostrare che sebbene vogliamo a schermo 15 righe, ne avremo solo 10 perchè non ne sono presenti altre</span></a></code></pre></div>
<pre><code>##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1           5.1         3.5          1.4         0.2  setosa
## 2           4.9         3.0          1.4         0.2  setosa
## 3           4.7         3.2          1.3         0.2  setosa
## 4           4.6         3.1          1.5         0.2  setosa
## 5           5.0         3.6          1.4         0.2  setosa
## 6           5.4         3.9          1.7         0.4  setosa
## 7           4.6         3.4          1.4         0.3  setosa
## 8           5.0         3.4          1.5         0.2  setosa
## 9           4.4         2.9          1.4         0.2  setosa
## 10          4.9         3.1          1.5         0.1  setosa</code></pre>
<p>Nel caso il numero di colonne o righe fosse diverso tra i dataframe, ovviamente a seconda del comando utilizzato, riceveremo un messaggio di errore.</p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
